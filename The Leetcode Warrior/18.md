# leetcode problem 18

***good one***
---
*** *** 
---

## some important points to leran:

---
 ## gyan
```java
for (int i = 0; i < nums.length; i++) {
    if (i > 0 && nums[i] == nums[i - 1]) continue;

```
* har baar i=1 se shuru karna pdta tha ab nahi
---
---
 # Our soln
```java
class Solution {
    public List<List<Integer>> fourSum(int[] nums, int target) {
        
        Arrays.sort(nums);
        List<List<Integer>> ans = new ArrayList<>();

        for (int i = 0; i < nums.length; i++) {
            // Skip duplicates for i
            if (i > 0 && nums[i] == nums[i - 1]) continue;

            for (int j = i + 1; j < nums.length; j++) {
                // Skip duplicates for j
                if (j > i + 1 && nums[j] == nums[j - 1]) continue;

                int left = j + 1;
                int right = nums.length - 1;

                while (left < right) {
                    long sum = (long)nums[i] + nums[j] + nums[left] + nums[right];

                    if (sum == target) {
                        ans.add(Arrays.asList(nums[i], nums[j], nums[left], nums[right]));

                        // Skip duplicates for left and right
                        while (left < right && nums[left] == nums[left + 1]) left++;
                        while (left < right && nums[right] == nums[right - 1]) right--;

                        left++;
                        right--;
                    } else if (sum < target) {
                        left++;
                    } else {
                        right--;
                    }
                }
            }
        }

        return ans;
    }
}
```
#### Explanation:


1. **sum == target**:

   * Add quadruplet to answer.
   * Skip **duplicates** for `left` and `right` to avoid repeating quadruplets.
   * Move both pointers inward: `left++` and `right--`.

2. **sum < target**:

   * Need a bigger sum → move `left` to the right.

3. **sum > target**:

   * Need a smaller sum → move `right` to the left.

> Note: `long sum = (long)nums[i] + nums[j] + nums[left] + nums[right];`
>
> * We cast to `long` to avoid **integer overflow** if numbers are very large.

---



---
 # pehla tabadtod soln
```java
class Solution {
    public List<List<Integer>> fourSum(int[] nums, int target) {
        Arrays.sort(nums);
        return kSum(nums, target, 0, 4);
    }

    private List<List<Integer>> kSum(int[] nums, long target, int start, int k) {
        List<List<Integer>> ans = new ArrayList<>();
        if (start == nums.length) {
            return ans;
        }

        long avg = (long) target / k;
        if (nums[0] > avg || nums[nums.length - 1] < avg) {
            return ans;
        }

        if (k == 2) {
            return twoSum(nums, target, start);
        }

        for (int i = start; i < nums.length; i++) {
            if (i == start || nums[i] != nums[i - 1]) {
                for (List<Integer> subSet : kSum(nums, target - nums[i], i + 1, k - 1)) {
                    ans.add(new ArrayList<>(Arrays.asList(nums[i])));
                    ans.get(ans.size() - 1).addAll(subSet);
                }
            }
        }

        return ans;
    }

    public List<List<Integer>> twoSum(int[] nums, long target, int start) {
        List<List<Integer>> res = new ArrayList<>();
        int lo = start, hi = nums.length - 1;

        while (lo < hi) {
            int currSum = nums[lo] + nums[hi];
            if (currSum < target || (lo > start && nums[lo] == nums[lo - 1])) {
                ++lo;
            } else if (
                currSum > target ||
                (hi < nums.length - 1 && nums[hi] == nums[hi + 1])
            ) {
                --hi;
            } else {
                res.add(Arrays.asList(nums[lo++], nums[hi--]));
            }
        }

        return res;
    }
}

```
---
---
 # dusra tabad soln
```java
import java.util.AbstractList;

class Solution {
    // public List<List<Integer>> fourSum(int[] nums, int target) {
    //     List<List<Integer>> res = new ArrayList<>();
    //     Arrays.sort(nums);
    //     for(int i = 0; i < nums.length - 3; i++) {
    //         if(i > 0 && nums[i] == nums[i - 1]) continue;
    //         for(int j = i + 1; j < nums.length - 2; j++) {
    //             if(j > i + 1 && nums[j] == nums[j - 1]) continue;
    //             int low = j + 1, high = nums.length - 1;
    //             while(low < high) {
    //                 long sum = (long) nums[i] + nums[j] + nums[low] + nums[high];
    //                 if(sum == target) {
    //                     res.add(Arrays.asList(nums[i], nums[j], nums[low], nums[high]));
    //                     while(low < high && nums[low] == nums[low + 1]) low++;
    //                     while(low < high && nums[high] == nums[high - 1]) high--;
    //                     low++;
    //                     high--;
    //                 } else if(sum < target) {
    //                     low++;
    //                 } else {
    //                     high--;
    //                 }
    //             }
    //         }
    //     }
    //     return res;
    // }
    public List<List<Integer>> fourSum(int[] arr, int target) {
        if (arr.length < 4)
            return Collections.emptyList();
        return new AbstractList<List<Integer>>() {
            List<List<Integer>> ans;

            @Override
            public int size() {
                if (ans == null)
                    ans = createList(arr, target);
                return ans.size();
            }

            @Override
            public List<Integer> get(int index) {
                if (ans == null)
                    ans = createList(arr, target);
                return ans.get(index);
            }
        };
    }

    private List<List<Integer>> createList(int[] arr, int target) {
        List<List<Integer>> ans = new ArrayList<>();
        Arrays.sort(arr);
        int len = arr.length;
        for (int i = 0; i < len - 3; i++) {
            if (i > 0 && arr[i] == arr[i - 1])
                continue;
            for (int j = i + 1; j < len - 2; j++) {
                if (j > i + 1 && arr[j] == arr[j - 1])
                    continue;
                int left = j + 1;
                int right = len - 1;
                while (left < right) {
                    long sum = (long) arr[i] + arr[j] + arr[left] + arr[right];
                    if (sum == target) {
                        ans.add(Arrays.asList(arr[i], arr[j], arr[left], arr[right]));
                        left++;
                        right--;
                        while (left < right && arr[left] == arr[left - 1])
                            left++;
                        while (left < right && arr[right] == arr[right + 1])
                            right--;
                    } else if (sum < target) {
                        left++;
                    } else {
                        right--;
                    }

                }

            }
        }
        return ans;
    }
}

```
---
---
 #
```java


```
---
---
 #
```java


```
---
---
 #
```java


```
---
---
 #
```java


```
---
---
 #
```java


```
---
---
 #
```java


```
---
---
 #
```java


```
---
---
 #
```java


```
---
---
 #
```java


```
---
---
 #
```java


```
---
---
 #
```java


```
---
---
 #
```java


```
---
---
 #
```java


```
---
---
 #
```java


```
---
---
 #
```java


```
---
---
 #
```java


```
---
---
 #
```java


```
---